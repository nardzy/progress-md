{"version":3,"file":"main.js","sources":["webpack://client/webpack/runtime/rspack_version","webpack://client/webpack/runtime/rspack_unique_id","webpack://client/./src/mod/mdmd.ts","webpack://client/./src/mod/a/a_tile.ts","webpack://client/./src/mod/mob.ts","webpack://client/./src/mod/rarityvec.ts","webpack://client/./src/mod/s/utility.ts","webpack://client/./src/mod/area.ts","webpack://client/./src/mod/room.ts","webpack://client/./src/mod/s/loading.ts","webpack://client/./src/mod/s/renderer.ts","webpack://client/./src/main.ts"],"sourcesContent":["__webpack_require__.rv = () => (\"1.3.15\")","__webpack_require__.ruid = \"bundler=rspack@1.3.15\";\n","\r\ntype PetalEntries = [name: string, count: number][];\r\n\r\nconst ORACLE = 253;\r\nconst fmt = (\r\n    oracle: number,\r\n    entries: PetalEntries\r\n) => {\r\n\r\n    const petals = new Map(entries);\r\n\r\n    let name_len = 4;\r\n    let count_len = 5;\r\n    let dif_len = 3;\r\n    let percent_len = 7;\r\n\r\n    for (const [name, count] of petals) {\r\n\r\n        if (name_len < name.length) {\r\n            name_len = name.length;\r\n        }\r\n\r\n        const c = `${count}${oracle}`.length + 3;\r\n\r\n        if (count_len < c) {\r\n            count_len = c;\r\n        }\r\n\r\n        const d = oracle - count;\r\n        const daaa = `${d < 0 ? \"+\" : \"\"}${Math.abs(d).toString()}`;\r\n\r\n        const maa = daaa.length;\r\n\r\n        if (dif_len < maa) {\r\n            dif_len = maa;\r\n        }\r\n\r\n    }\r\n\r\n    interface Format {\r\n        a: string,\r\n        b: string,\r\n        c: string,\r\n        d: string\r\n    }\r\n\r\n    const r = (count: number) => \" \".repeat(Math.max(0, count));\r\n    const a = (count: number) => \"-\".repeat(Math.max(0, count));\r\n    const s = {\r\n        a: r(name_len - 4),\r\n        b: r(count_len - 5),\r\n        c: r(dif_len - 3),\r\n        d: r(percent_len - 7),\r\n    };\r\n    const n = {\r\n        a: a(name_len),\r\n        b: a(count_len),\r\n        c: a(dif_len),\r\n        d: a(percent_len),\r\n    };\r\n\r\n    const format = (\r\n        name: string,\r\n        count: string,\r\n        dif: string,\r\n        percent: string,\r\n        confg: Format\r\n    ) => {\r\n\r\n        return `| ${name}${confg.a} | ${count}${confg.b} | ${dif}${confg.c} | ${percent}${confg.d} |\\n`;\r\n\r\n    };\r\n\r\n    let str = \"\";\r\n\r\n    str += `# Sewer Progress \\n\\n`;\r\n\r\n    str += \"```bash\\n\";\r\n    str += format(\"Name\", \"Count\", \"Dif\", \"Percent\", s);\r\n    str += format(\"\", \"\", \"\", \"\", n);\r\n\r\n    for (const [name, count] of [...petals.entries()].sort((a, b) => b[1] - a[1])) {\r\n\r\n        const percent = `${((count / oracle) * 100).toFixed(2)}%`;\r\n        const c = `${oracle} - ${count}`;\r\n        const d = oracle - count;\r\n        const diff = `${d < 0 ? \"+\" : \"\"}${Math.abs(d).toString()}`;\r\n\r\n        const confg = {\r\n            a: r(name_len - name.length),\r\n            b: r(count_len - c.length),\r\n            c: r(dif_len - diff.length),\r\n            d: r(7 - percent.length),\r\n        };\r\n\r\n        str += format(name, c, diff, percent, confg);\r\n\r\n    }\r\n\r\n    str += \"```\\n\";\r\n\r\n    return str;\r\n\r\n};\r\n\r\nconst imoon = document.createElement(\"div\");\r\n\r\nconst create_input = (name: string) => {\r\n\r\n    const wrap = document.createElement(\"div\");\r\n    const input = document.createElement(\"input\");\r\n\r\n    input.style.width = \"3em\";\r\n    input.value = \"0\";\r\n    input.name = name;\r\n    input.type = \"text\";\r\n\r\n    wrap.innerHTML += name;\r\n    wrap.appendChild(input);\r\n\r\n    imoon.appendChild(wrap);\r\n\r\n    return input;\r\n\r\n};\r\n\r\nconst create_out_area = () => {\r\n\r\n    const area = document.createElement(\"textarea\");\r\n\r\n    area.cols = 40;\r\n    area.rows = 30;\r\n    area.name = \"aaaannn\";\r\n\r\n    imoon.appendChild(area);\r\n\r\n    return area;\r\n\r\n};\r\n\r\nexport const md = () => {\r\n\r\n    imoon.style.position = \"absolute\";\r\n    imoon.style.top = \"50%\";\r\n    imoon.style.left = \"50%\";\r\n    imoon.style.transform = \"translate(-50%, -50%)\";\r\n    document.body.appendChild(imoon);\r\n\r\n    const oracle = create_input(\"goal\");\r\n\r\n    oracle.value = ORACLE.toString();\r\n\r\n    const petals = [\r\n        create_input(\"Antennae\"),\r\n        create_input(\"Bulb\"),\r\n        create_input(\"Lotus\"),\r\n        create_input(\"Faster\"),\r\n        create_input(\"Poo\"),\r\n        create_input(\"Talisman\"),\r\n        create_input(\"Web\"),\r\n        create_input(\"Wing\")\r\n    ];\r\n\r\n    const area = create_out_area();\r\n\r\n    const imo = () => {\r\n\r\n        const entries: PetalEntries = [];\r\n\r\n        for (const i of petals) {\r\n\r\n            const c = Number.parseInt(i.value) || 0;\r\n\r\n            if (c === 0) continue;\r\n\r\n            entries.push(\r\n                [\r\n                    i.name,\r\n                    c\r\n                ]\r\n            );\r\n\r\n        }\r\n\r\n        const out = fmt(\r\n            Number.parseInt(oracle.value) || 0,\r\n            entries\r\n        );\r\n\r\n        area.value = out;\r\n\r\n    };\r\n\r\n    oracle.addEventListener(\"input\", () => {\r\n        imo();\r\n    });\r\n\r\n    for (const i of petals) {\r\n\r\n        i.addEventListener(\"input\", () => {\r\n            imo();\r\n        });\r\n\r\n    }\r\n\r\n    imo();\r\n\r\n};","\r\nimport gra from \"../../asset/tiles/Garden.svg\";\r\nimport des from \"../../asset/tiles/Desert.svg\";\r\nimport oc from \"../../asset/tiles/Ocean.svg\";\r\nimport oc_wrap from \"../../asset/tiles/Ocean_wrap.svg\";\r\nimport jun from \"../../asset/tiles/Jungle.svg\";\r\nimport hel from \"../../asset/tiles/Hel.svg\";\r\n\r\nimport ah from \"../../asset/tiles/Ant_Hell.svg\";\r\nimport sw from \"../../asset/tiles/Sewers.svg\";\r\nimport swbg from \"../../asset/tiles/Sewers_bg.svg\";\r\nimport fa from \"../../asset/tiles/Factory.svg\";\r\nimport pyra from \"../../asset/tiles/Pyramid.svg\";\r\n\r\nexport const tile_ext = new Map([\r\n\r\n    [\"Garden\", gra],\r\n    [\"Desert\", des],\r\n    [\"Ocean\", oc],\r\n    [\"Ocean_wrap\", oc_wrap],\r\n    [\"Jungle\", jun],\r\n    [\"Hel\", hel],\r\n\r\n    [\"Ant_Hell\", ah],\r\n    [\"Sewers\", sw],\r\n    [\"Sewers_bg\", swbg],\r\n    [\"Factory\", fa],\r\n    [\"Pyramid\", pyra]\r\n\r\n]);","export interface Mob { id: number; sid: string; drops: number[] };\r\n\r\nexport const mobmap: Map<number, Mob> = new Map([\r\n    [\r\n        1,\r\n        {\r\n            \"id\": 1,\r\n            \"sid\": \"rock\",\r\n            \"drops\": [\r\n                3,\r\n                18,\r\n                77\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        2,\r\n        {\r\n            \"id\": 2,\r\n            \"sid\": \"cactus\",\r\n            \"drops\": [\r\n                11\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        3,\r\n        {\r\n            \"id\": 3,\r\n            \"sid\": \"ladybug\",\r\n            \"drops\": [\r\n                2,\r\n                5\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        4,\r\n        {\r\n            \"id\": 4,\r\n            \"sid\": \"bee\",\r\n            \"drops\": [\r\n                6,\r\n                21,\r\n                14\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        5,\r\n        {\r\n            \"id\": 5,\r\n            \"sid\": \"ant_baby\",\r\n            \"drops\": [\r\n                2,\r\n                24,\r\n                22\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        6,\r\n        {\r\n            \"id\": 6,\r\n            \"sid\": \"ant_worker\",\r\n            \"drops\": [\r\n                22,\r\n                25\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        7,\r\n        {\r\n            \"id\": 7,\r\n            \"sid\": \"ant_soldier\",\r\n            \"drops\": [\r\n                79,\r\n                46\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        8,\r\n        {\r\n            \"id\": 8,\r\n            \"sid\": \"ant_queen\",\r\n            \"drops\": [\r\n                51,\r\n                49\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        9,\r\n        {\r\n            \"id\": 9,\r\n            \"sid\": \"ant_hole\",\r\n            \"drops\": [\r\n                41,\r\n                73\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        10,\r\n        {\r\n            \"id\": 10,\r\n            \"sid\": \"beetle\",\r\n            \"drops\": [\r\n                78,\r\n                16\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        11,\r\n        {\r\n            \"id\": 11,\r\n            \"sid\": \"hornet\",\r\n            \"drops\": [\r\n                9,\r\n                50,\r\n                17\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        12,\r\n        {\r\n            \"id\": 12,\r\n            \"sid\": \"centipede\",\r\n            \"drops\": [\r\n                22,\r\n                44\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        14,\r\n        {\r\n            \"id\": 14,\r\n            \"sid\": \"centipede_evil\",\r\n            \"drops\": [\r\n                7,\r\n                10\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        16,\r\n        {\r\n            \"id\": 16,\r\n            \"sid\": \"centipede_desert\",\r\n            \"drops\": [\r\n                23,\r\n                47\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        18,\r\n        {\r\n            \"id\": 18,\r\n            \"sid\": \"square\",\r\n            \"drops\": [\r\n                4\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        19,\r\n        {\r\n            \"id\": 19,\r\n            \"sid\": \"ladybug_dark\",\r\n            \"drops\": [\r\n                38,\r\n                19\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        20,\r\n        {\r\n            \"id\": 20,\r\n            \"sid\": \"ladybug_shiny\",\r\n            \"drops\": [\r\n                5,\r\n                38,\r\n                30\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        21,\r\n        {\r\n            \"id\": 21,\r\n            \"sid\": \"spider\",\r\n            \"drops\": [\r\n                12,\r\n                20,\r\n                43\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        22,\r\n        {\r\n            \"id\": 22,\r\n            \"sid\": \"scorpion\",\r\n            \"drops\": [\r\n                7,\r\n                27\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        23,\r\n        {\r\n            \"id\": 23,\r\n            \"sid\": \"fire_ant_soldier\",\r\n            \"drops\": [\r\n                28,\r\n                58\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        24,\r\n        {\r\n            \"id\": 24,\r\n            \"sid\": \"fire_ant_burrow\",\r\n            \"drops\": [\r\n                29,\r\n                72\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        25,\r\n        {\r\n            \"id\": 25,\r\n            \"sid\": \"sandstorm\",\r\n            \"drops\": [\r\n                26,\r\n                79,\r\n                45\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        26,\r\n        {\r\n            \"id\": 26,\r\n            \"sid\": \"bubble\",\r\n            \"drops\": [\r\n                48,\r\n                13\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        27,\r\n        {\r\n            \"id\": 27,\r\n            \"sid\": \"bumble_bee\",\r\n            \"drops\": [\r\n                14,\r\n                96,\r\n                21\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        28,\r\n        {\r\n            \"id\": 28,\r\n            \"sid\": \"shell\",\r\n            \"drops\": [\r\n                32,\r\n                36,\r\n                29\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        29,\r\n        {\r\n            \"id\": 29,\r\n            \"sid\": \"starfish\",\r\n            \"drops\": [\r\n                31,\r\n                26,\r\n                23\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        30,\r\n        {\r\n            \"id\": 30,\r\n            \"sid\": \"crab\",\r\n            \"drops\": [\r\n                35,\r\n                26\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        31,\r\n        {\r\n            \"id\": 31,\r\n            \"sid\": \"jellyfish\",\r\n            \"drops\": [\r\n                34,\r\n                33\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        32,\r\n        {\r\n            \"id\": 32,\r\n            \"sid\": \"digger\",\r\n            \"drops\": [\r\n                37,\r\n                39\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        33,\r\n        {\r\n            \"id\": 33,\r\n            \"sid\": \"sponge\",\r\n            \"drops\": [\r\n                40,\r\n                90\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        34,\r\n        {\r\n            \"id\": 34,\r\n            \"sid\": \"leech\",\r\n            \"drops\": [\r\n                42,\r\n                12\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        36,\r\n        {\r\n            \"id\": 36,\r\n            \"sid\": \"dandelion\",\r\n            \"drops\": [\r\n                15\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        37,\r\n        {\r\n            \"id\": 37,\r\n            \"sid\": \"fire_ant_baby\",\r\n            \"drops\": [\r\n                2,\r\n                28\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        38,\r\n        {\r\n            \"id\": 38,\r\n            \"sid\": \"fire_ant_worker\",\r\n            \"drops\": [\r\n                28,\r\n                25\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        39,\r\n        {\r\n            \"id\": 39,\r\n            \"sid\": \"fire_ant_queen\",\r\n            \"drops\": [\r\n                51,\r\n                49\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        40,\r\n        {\r\n            \"id\": 40,\r\n            \"sid\": \"ant_egg\",\r\n            \"drops\": [\r\n                51\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        41,\r\n        {\r\n            \"id\": 41,\r\n            \"sid\": \"fire_ant_egg\",\r\n            \"drops\": [\r\n                51\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        42,\r\n        {\r\n            \"id\": 42,\r\n            \"sid\": \"fly\",\r\n            \"drops\": [\r\n                52,\r\n                8,\r\n                68\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        43,\r\n        {\r\n            \"id\": 43,\r\n            \"sid\": \"leafbug\",\r\n            \"drops\": [\r\n                22,\r\n                65\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        44,\r\n        {\r\n            \"id\": 44,\r\n            \"sid\": \"mantis\",\r\n            \"drops\": [\r\n                44,\r\n                64\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        45,\r\n        {\r\n            \"id\": 45,\r\n            \"sid\": \"termite_baby\",\r\n            \"drops\": [\r\n                57,\r\n                53\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        46,\r\n        {\r\n            \"id\": 46,\r\n            \"sid\": \"termite_worker\",\r\n            \"drops\": [\r\n                59,\r\n                53\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        47,\r\n        {\r\n            \"id\": 47,\r\n            \"sid\": \"termite_soldier\",\r\n            \"drops\": [\r\n                106,\r\n                53\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        48,\r\n        {\r\n            \"id\": 48,\r\n            \"sid\": \"termite_overmind\",\r\n            \"drops\": [\r\n                71,\r\n                53,\r\n                60\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        49,\r\n        {\r\n            \"id\": 49,\r\n            \"sid\": \"termite_mound\",\r\n            \"drops\": [\r\n                41,\r\n                62,\r\n                53\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        50,\r\n        {\r\n            \"id\": 50,\r\n            \"sid\": \"termite_egg\",\r\n            \"drops\": [\r\n                51,\r\n                70\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        51,\r\n        {\r\n            \"id\": 51,\r\n            \"sid\": \"bush\",\r\n            \"drops\": [\r\n                56,\r\n                99,\r\n                97\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        52,\r\n        {\r\n            \"id\": 52,\r\n            \"sid\": \"roach\",\r\n            \"drops\": [\r\n                17,\r\n                54\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        53,\r\n        {\r\n            \"id\": 53,\r\n            \"sid\": \"moth\",\r\n            \"drops\": [\r\n                8,\r\n                55\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        54,\r\n        {\r\n            \"id\": 54,\r\n            \"sid\": \"firefly\",\r\n            \"drops\": [\r\n                8,\r\n                55,\r\n                69\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        55,\r\n        {\r\n            \"id\": 55,\r\n            \"sid\": \"beetle_hel\",\r\n            \"drops\": [\r\n                67,\r\n                16,\r\n                61\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        56,\r\n        {\r\n            \"id\": 56,\r\n            \"sid\": \"wasp\",\r\n            \"drops\": [\r\n                9,\r\n                17,\r\n                63\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        58,\r\n        {\r\n            \"id\": 58,\r\n            \"sid\": \"spider_hel\",\r\n            \"drops\": [\r\n                76,\r\n                61,\r\n                43\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        59,\r\n        {\r\n            \"id\": 59,\r\n            \"sid\": \"centipede_hel\",\r\n            \"drops\": [\r\n                102,\r\n                61\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        61,\r\n        {\r\n            \"id\": 61,\r\n            \"sid\": \"wasp_hel\",\r\n            \"drops\": [\r\n                9,\r\n                75,\r\n                61\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        63,\r\n        {\r\n            \"id\": 63,\r\n            \"sid\": \"gambler\",\r\n            \"drops\": [\r\n                80,\r\n                75,\r\n                76,\r\n                67,\r\n                102\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        65,\r\n        {\r\n            \"id\": 65,\r\n            \"sid\": \"firefly_magic\",\r\n            \"drops\": [\r\n                69,\r\n                81\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        67,\r\n        {\r\n            \"id\": 67,\r\n            \"sid\": \"beetle_nazar\",\r\n            \"drops\": [\r\n                16,\r\n                66,\r\n                92\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        68,\r\n        {\r\n            \"id\": 68,\r\n            \"sid\": \"worm\",\r\n            \"drops\": [\r\n                73,\r\n                41\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        70,\r\n        {\r\n            \"id\": 70,\r\n            \"sid\": \"mecha_flower\",\r\n            \"drops\": [\r\n                98,\r\n                69,\r\n                93\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        71,\r\n        {\r\n            \"id\": 71,\r\n            \"sid\": \"wasp_mecha\",\r\n            \"drops\": [\r\n                95,\r\n                100,\r\n                69\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        72,\r\n        {\r\n            \"id\": 72,\r\n            \"sid\": \"spider_mecha\",\r\n            \"drops\": [\r\n                94,\r\n                69\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        73,\r\n        {\r\n            \"id\": 73,\r\n            \"sid\": \"leafbug_shiny\",\r\n            \"drops\": [\r\n                65,\r\n                97\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        74,\r\n        {\r\n            \"id\": 74,\r\n            \"sid\": \"crab_mecha\",\r\n            \"drops\": [\r\n                101,\r\n                69\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        76,\r\n        {\r\n            \"id\": 76,\r\n            \"sid\": \"barrel\",\r\n            \"drops\": [\r\n                94,\r\n                39\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        77,\r\n        {\r\n            \"id\": 77,\r\n            \"sid\": \"beetle_mummy\",\r\n            \"drops\": [\r\n                66,\r\n                103,\r\n                16\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        78,\r\n        {\r\n            \"id\": 78,\r\n            \"sid\": \"beetle_pharaoh\",\r\n            \"drops\": [\r\n                66,\r\n                103,\r\n                104\r\n            ]\r\n        }\r\n    ],\r\n    [\r\n        79,\r\n        {\r\n            \"id\": 79,\r\n            \"sid\": \"tomb\",\r\n            \"drops\": [\r\n                66,\r\n                105\r\n            ]\r\n        }\r\n    ]\r\n]);\r\n\r\nconst i2s: Map<string, number> = new Map;\r\n\r\nfor (const [id, d] of mobmap) {\r\n\r\n    i2s.set(d.sid, id);\r\n\r\n}\r\n\r\nexport const mob_by_sid = (sid: string) => mobmap.get(i2s.get(sid) ?? -1);","\r\ntype Rarity = {\r\n\r\n    name: string\r\n    color: string\r\n    \r\n}\r\n\r\nexport const rarityvec: Rarity[] = [\r\n    {\r\n        name: \"Common\",\r\n        color: \"#7eef6d\"\r\n    },\r\n    {\r\n        name: \"Unusual\",\r\n        color: \"#ffe65d\"\r\n    },\r\n    {\r\n        name: \"Rare\",\r\n        color: \"#4d52e3\"\r\n    },\r\n    {\r\n        name: \"Epic\",\r\n        color: \"#861fde\"\r\n    },\r\n    {\r\n        name: \"Legendary\",\r\n        color: \"#de1f1f\"\r\n    },\r\n    {\r\n        name: \"Mythic\",\r\n        color: \"#1fdbde\"\r\n    },\r\n    {\r\n        name: \"Ultra\",\r\n        color: \"#ff2b75\"\r\n    },\r\n    {\r\n        name: \"Super\",\r\n        color: \"#2bffa3\"\r\n    },\r\n    {\r\n        name: \"Unique\",\r\n        color: \"#555555\"\r\n    }\r\n];\r\n","export const darkened = (base: string, v: number) => {\r\n\r\n    const x = Number.parseInt(base, 16);\r\n    const f = 1 - v;\r\n    const r = (x >>> 16) & 255;\r\n    const g = (x >>> 8) & 255;\r\n    const b = x & 255;\r\n    const out_r = r * f | 0;\r\n    const out_g = g * f | 0;\r\n    const out_b = b * f | 0;\r\n    const blend = (out_r << 16) | (out_g << 8) | out_b;\r\n    const s = blend.toString(16);\r\n\r\n    return `#${s.padStart(6, \"0\")}`;\r\n\r\n};\r\n\r\nexport const rgb2hex = (rgb: string) => {\r\n\r\n    const clr = rgb.substring(4, rgb.length - 1).split(\",\");\r\n\r\n    const r = Number.parseInt(clr[0]);\r\n    const g = Number.parseInt(clr[1]);\r\n    const b = Number.parseInt(clr[2]);\r\n\r\n    const to = (r << 16) | (g << 8) | b;\r\n    const s = to.toString(16);\r\n\r\n    return `#${s.padStart(6, \"0\")}`;\r\n\r\n};\r\n\r\nexport const easein = (n: number) => {\r\n\r\n    const ext = n > .5 ? (\r\n        .5 - ((1 - n) ** 2)\r\n    ) : n ** 2;\r\n\r\n    return ext * 2.0;\r\n\r\n};","import { type Mob, mob_by_sid } from \"./mob\";\r\nimport { Petal } from \"./petal\";\r\nimport { rarityvec } from \"./rarityvec\";\r\nimport { Room } from \"./room\";\r\nimport { Renderer } from \"./s/renderer\";\r\nimport { darkened, rgb2hex } from \"./s/utility\";\r\n\r\nexport class ToolTip {\r\n\r\n    x = 0;\r\n    y = 0;\r\n    rx = 0;\r\n    ry = 0;\r\n\r\n    alpha = 0;\r\n    a = 0;\r\n\r\n    constructor(public name: string, public index: number, public color: string) {\r\n\r\n    }\r\n\r\n    render(ctx: CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D, renderer: Renderer) {\r\n\r\n        let clicked = false;\r\n\r\n        const f = Math.min(1, renderer.delta_time * 0.005);\r\n\r\n        this.rx += (this.x - this.rx) * f;\r\n        this.ry += (this.y - this.ry) * f;\r\n        this.alpha = Math.max(0, this.alpha + (this.a - this.alpha) * f * 3);\r\n        \r\n        ctx.save();\r\n        ctx.translate(this.rx, this.ry);\r\n\r\n        ctx.globalAlpha = this.alpha;\r\n\r\n        ctx.lineWidth = 10;\r\n        ctx.fillStyle = this.color;\r\n        ctx.strokeStyle = darkened(this.color.substring(1), 0.2);\r\n\r\n        const path = new Path2D;\r\n\r\n        path.roundRect(0, 0, 80, 40, 5);\r\n\r\n        ctx.fill(path);\r\n        ctx.clip(path);\r\n        ctx.stroke(path);\r\n\r\n        ctx.fillStyle = \"#fff\";\r\n        ctx.strokeStyle = \"#000\";\r\n        ctx.lineWidth = 2;\r\n        ctx.font = \"bold 15px Ubuntu\";\r\n        ctx.textAlign = \"center\";\r\n        ctx.textBaseline = \"middle\";\r\n\r\n        ctx.strokeText(this.name, 40, 20);\r\n        ctx.fillText(this.name, 40, 20);\r\n\r\n        if (this.alpha > 0.8 && ctx.isPointInPath(\r\n            path,\r\n            renderer.mouse_x,\r\n            renderer.mouse_y\r\n        )) {\r\n\r\n            renderer.chg_cursor(\"pointer\");\r\n\r\n            if (renderer.click) {\r\n                clicked = true;\r\n            }\r\n\r\n        }\r\n\r\n        ctx.restore();\r\n\r\n        return clicked;\r\n\r\n    }\r\n\r\n}\r\n\r\nclass VPetal {\r\n\r\n    x = 0;\r\n    y = 0;\r\n    rx = 0;\r\n    ry = 0;\r\n    size = 0;\r\n    rot = -Math.PI;\r\n    r = 0;\r\n\r\n    alpha = 0;\r\n    a = 0;\r\n\r\n    tooltips: ToolTip[] = [];\r\n    rarity = 6;\r\n    count = 1;\r\n    focus = false;\r\n    disabled = false;\r\n\r\n    constructor(public id: number) {\r\n\r\n        for (let i = 0; i < rarityvec.length; i++) {\r\n\r\n            this.tooltips.push(\r\n                new ToolTip(\r\n                    rarityvec[i].name,\r\n                    i,\r\n                    rarityvec[i].color\r\n                )\r\n            );\r\n\r\n        }\r\n\r\n        this.tooltips.push(\r\n            new ToolTip(\r\n                \"Disable\",\r\n                114514,\r\n                \"#777777\"\r\n            )\r\n        );\r\n\r\n    }\r\n\r\n    render(ctx: CanvasRenderingContext2D, renderer: Renderer, room: Room, fcs: boolean) {\r\n\r\n        let clicked = false;\r\n\r\n        const f = Math.min(1, renderer.delta_time * 0.01);\r\n\r\n        this.rx += (this.x - this.rx) * f;\r\n        this.ry += (this.y - this.ry) * f;\r\n        this.size += (70 - this.size) * f;\r\n        this.rot += (this.r - this.rot) * f;\r\n        this.alpha = Math.max(0, this.alpha + (this.a - this.alpha) * f * 3);\r\n\r\n        ctx.save();\r\n        ctx.translate(this.rx, this.ry);\r\n\r\n        ctx.globalAlpha = this.alpha;\r\n\r\n        const fsize = this.size * .2;\r\n        const hsize = -fsize;\r\n\r\n        const {\r\n            name,\r\n            color\r\n        } = rarityvec[this.rarity];\r\n\r\n        const ra = color.substring(1);\r\n\r\n        ctx.lineWidth = fsize;\r\n        ctx.fillStyle = this.disabled ? darkened(ra, 0.5) : color;\r\n        ctx.strokeStyle = darkened(ra, 0.2);\r\n\r\n        const path = new Path2D;\r\n\r\n        path.roundRect(hsize, hsize, this.size, this.size, 5);\r\n\r\n        ctx.rotate(this.rot);\r\n\r\n        ctx.fill(path);\r\n\r\n        if (fcs) {\r\n\r\n            if (ctx.isPointInPath(\r\n                path,\r\n                renderer.mouse_x,\r\n                renderer.mouse_y\r\n            )) {\r\n    \r\n                renderer.chg_cursor(\"pointer\");\r\n    \r\n                if (renderer.click) {\r\n                    this.focus = true;\r\n                    clicked = true;\r\n                }\r\n    \r\n            }\r\n\r\n        } else {\r\n            this.focus = false;\r\n        }\r\n\r\n        ctx.clip(path);\r\n\r\n        const petal = room.petal.get(this.id);\r\n\r\n        petal && ctx.drawImage(petal, hsize, hsize, this.size, this.size);\r\n\r\n        ctx.stroke(path);\r\n\r\n        ctx.restore();\r\n\r\n        return clicked;\r\n\r\n    }\r\n    \r\n}\r\n\r\nclass VMob {\r\n\r\n    x = 0;\r\n    y = 0;\r\n    rx = 0;\r\n    ry = 0;\r\n    size = 0;\r\n    rot = -Math.PI;\r\n\r\n    petals: VPetal[] = [];\r\n    rarity = 6;\r\n    focus = false;\r\n\r\n    constructor(public data: Mob) {\r\n\r\n        for (const id of data.drops) {\r\n\r\n            this.petals.push(\r\n                new VPetal(\r\n                    id\r\n                )\r\n            );\r\n\r\n        }\r\n\r\n    }\r\n\r\n    render(ctx: CanvasRenderingContext2D, renderer: Renderer, room: Room) {\r\n\r\n        const f = Math.min(1, renderer.delta_time * 0.01);\r\n\r\n        this.rx += (this.x - this.rx) * f;\r\n        this.ry += (this.y - this.ry) * f;\r\n        this.size += (70 - this.size) * f;\r\n        this.rot += (0 - this.rot) * f;\r\n\r\n        ctx.save();\r\n\r\n        ctx.translate(this.rx, this.ry);\r\n        ctx.rotate(this.rot);\r\n\r\n        const fsize = this.size * .2;\r\n        const hsize = -fsize;\r\n\r\n        const {\r\n            name,\r\n            color\r\n        } = rarityvec[this.rarity];\r\n\r\n        ctx.lineWidth = fsize;\r\n        ctx.fillStyle = color;\r\n        ctx.strokeStyle = darkened(color.substring(1), 0.2);\r\n\r\n        const path = new Path2D;\r\n\r\n        path.roundRect(hsize, hsize, this.size, this.size, 10);\r\n\r\n        ctx.fill(path);\r\n\r\n        if (ctx.isPointInPath(\r\n            path,\r\n            renderer.mouse_x,\r\n            renderer.mouse_y\r\n        )) {\r\n\r\n            renderer.chg_cursor(\"pointer\");\r\n\r\n            if (renderer.click) {\r\n                this.focus = !this.focus;\r\n            }\r\n            \r\n        }\r\n\r\n        ctx.clip(path);\r\n\r\n        const mob = room.mob.get(this.data.id);\r\n\r\n        mob && ctx.drawImage(mob, hsize, hsize, this.size, this.size);\r\n\r\n        ctx.stroke(path);\r\n\r\n        ctx.restore();\r\n\r\n    }\r\n    \r\n}\r\n\r\nclass Biome {\r\n\r\n    mobs: VMob[] = [];\r\n    bg = \"\";\r\n    wrap = \"\";\r\n    color: string;\r\n    constructor(\r\n        public name: string,\r\n        public index: number,\r\n        mob_list: string[],\r\n        rgb: string,\r\n        config?: {\r\n            has_bg?: boolean,\r\n            has_wrap?: boolean\r\n        }\r\n    ) {\r\n\r\n        this.color = rgb2hex(rgb);\r\n\r\n        if (config?.has_bg) {\r\n            this.bg = `${name}_bg`;\r\n        }\r\n\r\n        if (config?.has_wrap) {\r\n            this.wrap = `${name}_wrap`;\r\n        }\r\n\r\n        for (const sid of mob_list) {\r\n\r\n            const data = mob_by_sid(sid);\r\n\r\n            if (data === undefined) {\r\n                throw new Error(`${sid} does not exist.`);\r\n            }\r\n\r\n            this.mobs.push(\r\n\r\n                new VMob(\r\n                    structuredClone(data)\r\n                )\r\n\r\n            );\r\n\r\n        }\r\n\r\n    }\r\n\r\n    init() {\r\n\r\n        const refresh: VMob[] = [];\r\n        \r\n        for (const mob of this.mobs) {\r\n\r\n            refresh.push(\r\n                new VMob(\r\n                    structuredClone(mob.data)\r\n                )\r\n            );\r\n            \r\n        }\r\n\r\n        this.mobs.splice(0);\r\n        this.mobs = refresh;\r\n\r\n    }\r\n\r\n}\r\n\r\nexport enum Area {\r\n\r\n    Garden = 0,\r\n    Desert = 1,\r\n    Ocean = 2,\r\n    Jungle = 3,\r\n    Hel = 4,\r\n\r\n    Ant_Hell = 5,\r\n    Sewers = 6,\r\n    Factory = 7,\r\n    Pyramid = 8\r\n\r\n}\r\n\r\nconst theme = {\r\n    garden: \"rgb(30, 167, 97)\",\r\n    desert: \"rgb(236, 220, 184)\",\r\n    ocean: \"rgb(78, 119, 167)\",\r\n    jungle: \"rgb(58, 160, 73)\",\r\n\r\n    // sub biome\r\n    ant_hell: \"rgb(142, 96, 63)\",\r\n    sewers: \"rgb(102, 102, 51)\",\r\n    factory: \"rgb(204, 204, 204)\",\r\n    pyramid: \"rgb(142, 128, 97)\"\r\n};\r\n\r\nexport const BIOME = Array<Biome>(8);\r\n\r\nBIOME[Area.Garden] = new Biome(\r\n    \"Garden\",\r\n    Area.Garden,\r\n    [\r\n        \"rock\",\r\n        \"ladybug\",\r\n        \"bee\",\r\n        \"ant_baby\",\r\n        \"ant_worker\",\r\n        \"ant_soldier\",\r\n        \"ant_hole\",\r\n        \"hornet\",\r\n        \"centipede\",\r\n        \"spider\",\r\n        \"bumble_bee\",\r\n        \"dandelion\"\r\n    ],\r\n    \"rgb(30, 167, 97)\"\r\n);\r\nBIOME[Area.Desert] = new Biome(\r\n    \"Desert\",\r\n    Area.Desert,\r\n    [\r\n        \"beetle\",\r\n        \"cactus\",\r\n        \"centipede_desert\",\r\n        \"ladybug_shiny\",\r\n        \"scorpion\",\r\n        \"fire_ant_burrow\",\r\n        \"sandstorm\",\r\n        \"beetle_nazar\"\r\n    ],\r\n    \"rgb(236, 220, 184)\"\r\n);\r\nBIOME[Area.Ocean] = new Biome(\r\n    \"Ocean\",\r\n    Area.Ocean,\r\n    [\r\n        \"bubble\",\r\n        \"shell\",\r\n        \"starfish\",\r\n        \"crab\",\r\n        \"jellyfish\",\r\n        \"sponge\",\r\n        \"leech\"\r\n    ],\r\n    \"rgb(78, 119, 167)\",\r\n    {\r\n        has_wrap: true\r\n    }\r\n);\r\nBIOME[Area.Jungle] = new Biome(\r\n    \"Jungle\",\r\n    Area.Jungle,\r\n    [\r\n        \"centipede_evil\",\r\n        \"leafbug\",\r\n        \"mantis\",\r\n        \"termite_mound\",\r\n        \"bush\",\r\n        \"firefly\",\r\n        \"wasp\",\r\n        \"firefly_magic\",\r\n        \"leafbug_shiny\"\r\n    ],\r\n    \"rgb(58, 160, 73)\"\r\n);\r\nBIOME[Area.Hel] = new Biome(\r\n    \"Hel\",\r\n    Area.Hel,\r\n    [\r\n        \"beetle_hel\",\r\n        \"spider_hel\",\r\n        \"centipede_hel\",\r\n        \"wasp_hel\",\r\n        \"gambler\"\r\n    ],\r\n    \"rgb(165, 44, 44)\"\r\n);\r\nBIOME[Area.Ant_Hell] = new Biome(\r\n    \"Ant_Hell\",\r\n    Area.Ant_Hell,\r\n    [\r\n        \"ant_baby\",\r\n        \"ant_worker\",\r\n        \"ant_soldier\",\r\n        \"ant_queen\",\r\n        \"ant_egg\",\r\n\r\n        \"fire_ant_baby\",\r\n        \"fire_ant_worker\",\r\n        \"fire_ant_soldier\",\r\n        \"fire_ant_queen\",\r\n        \"fire_ant_egg\",\r\n\r\n        \"termite_baby\",\r\n        \"termite_worker\",\r\n        \"termite_soldier\",\r\n        \"termite_overmind\",\r\n        \"termite_egg\",\r\n\r\n        \"worm\"\r\n    ],\r\n    \"rgb(142, 96, 63)\"\r\n);\r\nBIOME[Area.Sewers] = new Biome(\r\n    \"Sewers\",\r\n    Area.Sewers,\r\n    [\r\n        \"spider\",\r\n        \"fly\",\r\n        \"roach\",\r\n        \"moth\"\r\n    ],\r\n    \"rgb(102, 102, 51)\",\r\n    {\r\n        has_bg: true\r\n    }\r\n);\r\nBIOME[Area.Factory] = new Biome(\r\n    \"Factory\",\r\n    Area.Factory,\r\n    [\r\n        \"mecha_flower\",\r\n        \"wasp_mecha\",\r\n        \"spider_mecha\",\r\n        \"crab_mecha\",\r\n        \"barrel\"\r\n    ],\r\n    \"rgb(204, 204, 204)\"\r\n);\r\nBIOME[Area.Pyramid] = new Biome(\r\n    \"Pyramid\",\r\n    Area.Pyramid,\r\n    [\r\n        \"beetle_mummy\",\r\n        \"beetle_pharaoh\",\r\n        \"beetle_nazar\",\r\n        \"tomb\"\r\n    ],\r\n    \"rgb(142, 128, 97)\"\r\n);","import { mob_ext } from \"./a/a_mob\";\r\nimport { petal_ext } from \"./a/a_petal\";\r\nimport { tile_ext } from \"./a/a_tile\";\r\nimport { Area, BIOME } from \"./area\";\r\n\r\nexport class Room {\r\n\r\n    tw = 512;\r\n    th = 512;\r\n\r\n    mob: Map<number, OffscreenCanvas> = new Map;\r\n    petal: Map<number, OffscreenCanvas> = new Map;\r\n    tile: Map<string, OffscreenCanvas> = new Map;\r\n\r\n    biome = BIOME[Number.parseInt(localStorage.getItem(\"biome\") ?? Area.Ocean.toString()) || 0];\r\n\r\n    constructor() {}\r\n\r\n    private fn(id: number | string, src: string, w: number, h: number, s: Map<number | string, OffscreenCanvas>) {\r\n\r\n        console.log(\"loading\", \"id:\", id, \"src:\", src);\r\n\r\n        return new Promise(\r\n            (resolve, reject) => {\r\n\r\n                const image = new Image(w, h);\r\n    \r\n                image.src = src;\r\n    \r\n                image.onload = () => {\r\n\r\n                    console.log(image.width, image.height);\r\n    \r\n                    const canvas = new OffscreenCanvas(\r\n                        w,\r\n                        h\r\n                    );\r\n                    const ctx = canvas.getContext(\"2d\");\r\n\r\n                    ctx?.drawImage(image, 0, 0, canvas.width, canvas.height);\r\n\r\n                    s.set(id, canvas);\r\n\r\n                    resolve(true);\r\n    \r\n                };\r\n    \r\n                image.onerror = (e) => {\r\n\r\n                    console.error(\"load error:\", id, e);\r\n    \r\n                    reject(false);\r\n    \r\n                };\r\n\r\n\r\n            }\r\n        );\r\n\r\n    }\r\n\r\n    async load() {\r\n\r\n        const a = performance.now();\r\n\r\n        console.log(\"start\");\r\n\r\n        for (const [id, src] of tile_ext) {\r\n\r\n            await this.fn(id, src, this.tw, this.th, this.tile);\r\n\r\n        }\r\n        /*for (const [id, src] of mob_ext) {\r\n\r\n            await this.fn(id, src, 256, 256, this.mob);\r\n\r\n        }\r\n        for (const [id, src] of petal_ext) {\r\n\r\n            await this.fn(id, src, 256, 256, this.petal);\r\n\r\n        }*/\r\n\r\n        const b = performance.now() - a;\r\n\r\n        console.log(\"end\\n\", \"elapsed:\", (b * .001).toFixed(2), \"sec\");\r\n\r\n        return true;\r\n\r\n    }\r\n\r\n}","\r\nexport class Loading {\r\n\r\n    main = document.readyState === \"complete\";\r\n\r\n    constructor() {\r\n\r\n        this.main && this.remove_status();\r\n\r\n    }\r\n\r\n    remove_status() {\r\n\r\n        document.querySelector(\"#status\")?.remove();\r\n\r\n    }\r\n\r\n    \r\n\r\n}","import { BIOME, ToolTip } from \"../area\";\r\nimport { Room } from \"../room\";\r\n\r\nexport const VIEW_W = 1920;\r\nexport const VIEW_H = 1080;\r\n\r\nexport const PI2 = Math.PI * 2.0;\r\n\r\nconst create_canvas = () => {\r\n\r\n    const canvas: HTMLCanvasElement | null = document.querySelector(\"#canvas\");\r\n\r\n    if (canvas === null) {\r\n\r\n        const new_canvas = document.createElement(\"canvas\");\r\n        new_canvas.id = \"canvas\";\r\n        document.body.prepend(new_canvas);\r\n\r\n        return new_canvas;\r\n\r\n    }\r\n\r\n    return canvas;\r\n\r\n};\r\n\r\nexport class Renderer {\r\n\r\n    canvas = create_canvas();\r\n    ctx = this.canvas.getContext(\"2d\") as CanvasRenderingContext2D;\r\n\r\n    offcvs = new OffscreenCanvas(1, 1);\r\n    offctx = this.offcvs.getContext(\"2d\") as OffscreenCanvasRenderingContext2D;\r\n\r\n    scale = 1;\r\n\r\n    vw = VIEW_W;\r\n    vh = VIEW_H;\r\n\r\n    delta_time = 0;\r\n    delta_min = 0;\r\n    delta_max = 0;\r\n\r\n    fps = 1145141919810;\r\n    fps_v: number[] = [];\r\n\r\n    mouse_x = 0;\r\n    mouse_y = 0;\r\n    click = false;\r\n    chg_c = false;\r\n\r\n    a: ToolTip[] = [];\r\n\r\n    time = performance.now();\r\n\r\n    yaju = 0;\r\n    senpai = 0;\r\n\r\n    constructor() {\r\n\r\n        this.canvas.oncontextmenu = event => event.preventDefault();\r\n        this.resize();\r\n\r\n        for (const biome of BIOME) {\r\n\r\n            this.a.push(\r\n                new ToolTip(\r\n                    biome.name,\r\n                    biome.index,\r\n                    biome.color\r\n                )\r\n            );\r\n\r\n        }\r\n\r\n    }\r\n\r\n    fit() {\r\n\r\n        this.ctx.scale(this.scale, this.scale);\r\n        this.offctx.scale(this.scale, this.scale);\r\n\r\n    }\r\n\r\n    resize() {\r\n\r\n        this.canvas.width = innerWidth * devicePixelRatio;\r\n        this.canvas.height = innerHeight * devicePixelRatio;\r\n\r\n        this.offcvs.width = this.canvas.width;\r\n        this.offcvs.height = this.canvas.height;\r\n\r\n        const s = Math.max(\r\n            this.canvas.width / VIEW_W,\r\n            this.canvas.height / VIEW_H\r\n        );\r\n\r\n        this.scale = s;\r\n\r\n        this.vw = this.canvas.width / s;\r\n        this.vh = this.canvas.height / s;\r\n\r\n    }\r\n\r\n    mouse_move(x: number, y: number) {\r\n\r\n        this.mouse_x = devicePixelRatio * x;\r\n        this.mouse_y = y * devicePixelRatio;\r\n\r\n    }\r\n\r\n    chg_cursor(cursor: string) {\r\n\r\n        if (this.chg_c) return;\r\n\r\n        this.canvas.style.cursor = cursor;\r\n        this.chg_c = true;\r\n\r\n    }\r\n\r\n    render_repeat_tile(tile: OffscreenCanvas, rx: number, ry: number) {\r\n\r\n        for (let x = rx % tile.width - tile.width; x < this.vw; x += tile.width) {\r\n\r\n            for (let y = ry % tile.height - tile.height; y < this.vh; y += tile.height) {\r\n\r\n                this.ctx.drawImage(tile, x, y);\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    loop(\r\n        time: number,\r\n\r\n        room: Room\r\n    ) {\r\n\r\n        this.delta_time = Math.max(0, time - this.time);\r\n        this.delta_min = 1000;\r\n        this.delta_max = 0;\r\n        this.time = time;\r\n\r\n        this.fps_v.push(this.delta_time);\r\n        this.fps = 1000 / (this.fps_v.reduce((a, b) => {\r\n\r\n            if (this.delta_min > b) {\r\n                this.delta_min = b;\r\n            }\r\n            \r\n            if (this.delta_max < b) {\r\n                this.delta_max = b;\r\n            }\r\n\r\n            return a + b;\r\n\r\n        }) / this.fps_v.length);\r\n\r\n        if (this.fps_v.length > 120) this.fps_v.shift();\r\n\r\n        const {\r\n            canvas,\r\n            ctx\r\n        } = this;\r\n\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        this.offctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n        this.fit();\r\n\r\n        ctx.lineCap = \"round\";\r\n        ctx.lineJoin = \"round\";\r\n\r\n        const tile = room.tile.get(\r\n            room.biome.name\r\n        );\r\n\r\n        if (tile) {\r\n\r\n            ctx.globalAlpha = 1;\r\n\r\n            const t = time * 0.1;\r\n            \r\n            const rx = -t | 0;\r\n            const ry = Math.sin(t * 0.005) * 128 | 0;\r\n\r\n            const bg = room.tile.get(room.biome.bg);\r\n\r\n            if (bg) {\r\n                this.render_repeat_tile(bg, rx, ry);\r\n            }\r\n\r\n            this.render_repeat_tile(tile, rx, ry);\r\n\r\n            const wrap = room.tile.get(room.biome.wrap);\r\n\r\n            if (wrap) {\r\n                ctx.globalAlpha = 0.5;\r\n\r\n                const t = time * 0.02;\r\n\r\n                this.render_repeat_tile(wrap, -t, t);\r\n\r\n                ctx.globalAlpha = 1;\r\n            }\r\n\r\n        }\r\n\r\n        for (let i = 0; i < this.a.length; i++) {\r\n\r\n            const tip = this.a[i];\r\n\r\n            tip.x = 10;\r\n            tip.y = 10 + i * 50;\r\n            tip.a = 1;\r\n\r\n            const clicked = tip.render(ctx, this);\r\n\r\n            if (clicked && room.biome.index !== tip.index) {\r\n\r\n                room.biome.init();\r\n                room.biome = BIOME[tip.index];\r\n\r\n            }\r\n\r\n        }\r\n\r\n        /*\r\n        for (let i = 0; i < room.biome.mobs.length; i++) {\r\n\r\n            const mob = room.biome.mobs[i];\r\n\r\n            const x = i / 8 | 0;\r\n\r\n            mob.x = 250 + x * 400;\r\n            mob.y = 50 + (mob.size + 5) * (i % 8);\r\n\r\n            for (let i2 = 0; i2 < mob.petals.length; i2++) {\r\n\r\n                const petal = mob.petals[i2];\r\n\r\n                if (mob.focus) {\r\n                    petal.x = mob.rx + (petal.size + 5) * (i2 + 1);\r\n                    petal.y = mob.ry;\r\n                    petal.r = 0;\r\n                    petal.a = 1;\r\n                } else {\r\n                    petal.x = mob.rx;\r\n                    petal.y = mob.ry;\r\n                    petal.r = -Math.PI;\r\n                    petal.a = 0;\r\n                }\r\n\r\n                const clicked = petal.render(ctx, this, room, mob.focus);\r\n\r\n                if ((this.yaju !== i || this.senpai !== i2) && clicked) {\r\n\r\n                    const aaaaa = room.biome.mobs[this.yaju]?.petals[this.senpai];\r\n\r\n                    aaaaa && (aaaaa.focus = false);\r\n                    this.yaju = i;\r\n                    this.senpai = i2;\r\n\r\n                } \r\n\r\n                for (let i3 = 0; i3 < petal.tooltips.length; i3++) {\r\n\r\n                    const tip = petal.tooltips[i3];\r\n\r\n                    if (petal.focus) {\r\n                        tip.x = 100;\r\n                        tip.y = 10 + i3 * 50;\r\n                        tip.a = 1;\r\n                    } else {\r\n                        tip.x = petal.rx;\r\n                        tip.y = petal.ry;\r\n                        tip.a = 0;\r\n                    }\r\n        \r\n                    const clicked = tip.render(this.offctx, this);\r\n\r\n                    if (clicked) {\r\n\r\n                        if (tip.name === \"Disable\") {\r\n                            petal.disabled = !petal.disabled;\r\n                        } else {\r\n                            petal.rarity = tip.index;\r\n                        }\r\n\r\n                        petal.rot = -Math.PI;\r\n                        petal.size = 0;\r\n                        petal.focus = false;\r\n                    }\r\n    \r\n                }\r\n\r\n            }\r\n\r\n            mob.render(ctx, this, room);\r\n\r\n        }\r\n\r\n        ctx.drawImage(this.offcvs, 0, 0, this.vw, this.vh);*/\r\n\r\n        ctx.fillStyle = \"#fff\";\r\n        ctx.strokeStyle = \"#000\";\r\n        ctx.globalAlpha = 1.0;\r\n\r\n        const b = `${this.delta_min.toFixed(1)}/${this.delta_time.toFixed(1)}/${this.delta_max.toFixed(1)} ms (min/avg/max) - ${this.fps.toFixed(1)} fps`;\r\n\r\n        ctx.translate(\r\n            this.vw - 10,\r\n            this.vh - 5\r\n        );\r\n        ctx.font = \"bold 11.5px Ubuntu\";\r\n        ctx.textBaseline = \"bottom\";\r\n        ctx.textAlign = \"right\";\r\n        ctx.lineWidth = 1.75;\r\n        ctx.strokeText(b, 0, 0);\r\n        ctx.fillText(b, 0, 0);\r\n\r\n        ctx.setTransform(1, 0, 0, 1, 0, 0);\r\n        this.offctx.setTransform(1, 0, 0, 1, 0, 0);\r\n\r\n        this.chg_cursor(\"default\");\r\n\r\n        this.click = false;\r\n        this.chg_c = false;\r\n        \r\n    }\r\n\r\n}","\nimport { md } from \"./mod/mdmd\";\nimport {\n    Room\n} from \"./mod/room\";\nimport { Loading } from \"./mod/s/loading\";\nimport { Renderer } from \"./mod/s/renderer\";\n\nconst main = async () => {\n\n    const room = new Room;\n\n    await room.load();\n\n    md();\n\n    const renderer = new Renderer;\n    const loading = new Loading;\n\n    loading.remove_status();\n\n    addEventListener(\"resize\", () => {\n\n        renderer.resize();\n\n    });\n\n    addEventListener(\"mousemove\", (event) => {\n\n        renderer.mouse_move(\n            event.clientX,\n            event.clientY\n        );\n\n    });\n\n    addEventListener(\"click\", () => {\n\n        renderer.click = true;\n\n    });\n\n    const render_loop = (time: number) => {\n\n        renderer.loop(\n            time,\n            room\n        );\n\n        requestAnimationFrame(render_loop);\n\n    };\n\n    requestAnimationFrame(render_loop);\n\n};\n\nmain();"],"names":["fmt","oracle","entries","petals","Map","name_len","count_len","dif_len","name","count","c","d","maa","daaa","Math","r","a","s","percent_len","n","format","dif","percent","confg","str","b","diff","imoon","document","create_input","wrap","input","create_out_area","area","md","ORACLE","imo","i","Number","tile_ext","mobmap","i2s","id","mob_by_sid","sid","rarityvec","darkened","base","v","x","f","blend","out_r","out_g","g","rgb2hex","rgb","clr","to","ToolTip","index","color","ctx","renderer","clicked","path","Path2D","VPetal","room","fcs","fsize","hsize","ra","petal","VMob","data","mob","Biome","mob_list","config","undefined","Error","structuredClone","refresh","Area","BIOME","Array","Room","localStorage","src","w","h","console","Promise","resolve","reject","image","Image","canvas","OffscreenCanvas","e","performance","Loading","create_canvas","new_canvas","Renderer","biome","event","innerWidth","devicePixelRatio","innerHeight","y","cursor","tile","rx","ry","time","t","bg","tip","main","loading","addEventListener","render_loop","requestAnimationFrame"],"mappings":"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CN,IAAO,aACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,EACA,CACI,GAAM,EACN,IAAO,cACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,EACA,CACI,GAAM,EACN,IAAO,YACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,EACA,CACI,GAAM,EACN,IAAO,WACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,SACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,SACP,MAAS,CACL,EACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,YACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,iBACP,MAAS,CACL,EACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,mBACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,SACP,MAAS,CACL,EACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,eACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,gBACP,MAAS,CACL,EACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,SACP,MAAS,CACL,GACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,WACP,MAAS,CACL,EACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,mBACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,kBACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,YACP,MAAS,CACL,GACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,SACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,aACP,MAAS,CACL,GACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,QACP,MAAS,CACL,GACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,WACP,MAAS,CACL,GACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,OACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,YACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,SACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,SACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,QACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,YACP,MAAS,CACL,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,gBACP,MAAS,CACL,EACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,kBACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,iBACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,UACP,MAAS,CACL,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,eACP,MAAS,CACL,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,MACP,MAAS,CACL,GACA,EACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,UACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,SACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,eACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,iBACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,kBACP,MAAS,CACL,IACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,mBACP,MAAS,CACL,GACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,gBACP,MAAS,CACL,GACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,cACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,OACP,MAAS,CACL,GACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,QACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,OACP,MAAS,CACL,EACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,UACP,MAAS,CACL,EACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,aACP,MAAS,CACL,GACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,OACP,MAAS,CACL,EACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,aACP,MAAS,CACL,GACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,gBACP,MAAS,CACL,IACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,WACP,MAAS,CACL,EACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,UACP,MAAS,CACL,GACA,GACA,GACA,GACA,IACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,gBACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,eACP,MAAS,CACL,GACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,OACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,eACP,MAAS,CACL,GACA,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,aACP,MAAS,CACL,GACA,IACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,eACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,gBACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,aACP,MAAS,CACL,IACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,SACP,MAAS,CACL,GACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,eACP,MAAS,CACL,GACA,IACA,GACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,iBACP,MAAS,CACL,GACA,IACA,IACH,AACL,EACH,CACD,CACI,GACA,CACI,GAAM,GACN,IAAO,OACP,MAAS,CACL,GACA,IACH,AACL,EACH,CACJ,EAEKqC,EAA2B,IAAIrC,IAErC,IAAK,GAAM,CAACsC,EAAI/B,EAAE,GAAI6B,EAElBC,EAAI,GAAG,CAAC9B,EAAE,GAAG,CAAE+B,GAIZ,IAAMC,EAAa,AAACC,GAAgBJ,EAAO,GAAG,CAACC,EAAI,GAAG,CAACG,IAAQ,ICvwBzDC,EAAsB,CAC/B,CACI,KAAM,SACN,MAAO,SACX,EACA,CACI,KAAM,UACN,MAAO,SACX,EACA,CACI,KAAM,OACN,MAAO,SACX,EACA,CACI,KAAM,OACN,MAAO,SACX,EACA,CACI,KAAM,YACN,MAAO,SACX,EACA,CACI,KAAM,SACN,MAAO,SACX,EACA,CACI,KAAM,QACN,MAAO,SACX,EACA,CACI,KAAM,QACN,MAAO,SACX,EACA,CACI,KAAM,SACN,MAAO,SACX,EACH,CC7CYC,EAAW,CAACC,EAAcC,KAEnC,IAAMC,EAAIX,OAAO,QAAQ,CAACS,EAAM,IAC1BG,EAAI,EAAIF,EAQR/B,EAAIkC,AADKC,CAHDrC,CAHHkC,CAAAA,IAAM,GAAM,GAAE,EAGPC,EAAI,IAGE,GAAOG,AAFjBC,CAHHL,CAAAA,IAAM,EAAK,GAAE,EAGNC,EAAI,IAEkB,EAD1BzB,CAHJwB,CAAAA,AAAI,IAAJA,CAAM,EAGEC,EAAI,EAC2B,EACjC,QAAQ,CAAC,IAEzB,MAAO,CAAC,CAAC,EAAEjC,EAAE,QAAQ,CAAC,EAAG,KAAK,CAAC,AAEnC,EAEasC,EAAU,AAACC,IAEpB,IAAMC,EAAMD,EAAI,SAAS,CAAC,EAAGA,EAAI,MAAM,CAAG,GAAG,KAAK,CAAC,KAE7CzC,EAAIuB,OAAO,QAAQ,CAACmB,CAAG,CAAC,EAAE,EAC1BH,EAAIhB,OAAO,QAAQ,CAACmB,CAAG,CAAC,EAAE,EAI1BxC,EAAIyC,AADE3C,CAAAA,GAAK,GAAOuC,GAAK,EAFnBhB,OAAO,QAAQ,CAACmB,CAAG,CAAC,EAAE,CAEEhC,EACrB,QAAQ,CAAC,IAEtB,MAAO,CAAC,CAAC,EAAER,EAAE,QAAQ,CAAC,EAAG,KAAK,CAAC,AAEnC,CCvBO,OAAM0C,E,gBAET,EAAM,AACN,EAAM,AACN,GAAO,AACP,GAAO,AAEP,MAAU,AACV,EAAM,AAEN,aAAmBnD,CAAY,CAASoD,CAAa,CAASC,CAAa,CAAE,C,KAA1DrD,IAAI,CAAJA,E,KAAqBoD,KAAK,CAALA,E,KAAsBC,KAAK,CAALA,E,KAR9D,CAAC,CAAG,E,KACJ,CAAC,CAAG,E,KACJ,EAAE,CAAG,E,KACL,EAAE,CAAG,E,KAEL,KAAK,CAAG,E,KACR,CAAC,CAAG,CAIJ,CAEA,OAAOC,CAAiE,CAAEC,CAAkB,CAAE,CAE1F,IAAIC,EAAU,GAERd,EAAIpC,KAAK,GAAG,CAAC,EAAGiD,AAAsB,KAAtBA,EAAS,UAAU,CAEzC,KAAI,CAAC,EAAE,EAAK,KAAI,CAAC,CAAC,CAAG,IAAI,CAAC,EAAC,EAAKb,EAChC,IAAI,CAAC,EAAE,EAAK,KAAI,CAAC,CAAC,CAAG,IAAI,CAAC,EAAC,EAAKA,EAChC,IAAI,CAAC,KAAK,CAAGpC,KAAK,GAAG,CAAC,EAAG,IAAI,CAAC,KAAK,CAAI,KAAI,CAAC,CAAC,CAAG,IAAI,CAAC,KAAI,EAAKoC,EAAI,GAElEY,EAAI,IAAI,GACRA,EAAI,SAAS,CAAC,IAAI,CAAC,EAAE,CAAE,IAAI,CAAC,EAAE,EAE9BA,EAAI,WAAW,CAAG,IAAI,CAAC,KAAK,CAE5BA,EAAI,SAAS,CAAG,GAChBA,EAAI,SAAS,CAAG,IAAI,CAAC,KAAK,CAC1BA,EAAI,WAAW,CAAGhB,EAAS,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAI,IAEpD,IAAMmB,EAAO,IAAIC,OAkCjB,OAhCAD,EAAK,SAAS,CAAC,EAAG,EAAG,GAAI,GAAI,GAE7BH,EAAI,IAAI,CAACG,GACTH,EAAI,IAAI,CAACG,GACTH,EAAI,MAAM,CAACG,GAEXH,EAAI,SAAS,CAAG,OAChBA,EAAI,WAAW,CAAG,OAClBA,EAAI,SAAS,CAAG,EAChBA,EAAI,IAAI,CAAG,mBACXA,EAAI,SAAS,CAAG,SAChBA,EAAI,YAAY,CAAG,SAEnBA,EAAI,UAAU,CAAC,IAAI,CAAC,IAAI,CAAE,GAAI,IAC9BA,EAAI,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAE,GAAI,IAExB,IAAI,CAAC,KAAK,CAAG,IAAOA,EAAI,aAAa,CACrCG,EACAF,EAAS,OAAO,CAChBA,EAAS,OAAO,IAGhBA,EAAS,UAAU,CAAC,WAEhBA,EAAS,KAAK,EACdC,CAAAA,EAAU,EAAG,GAKrBF,EAAI,OAAO,GAEJE,CAEX,CAEJ,CAEA,MAAMG,E,EAEF,EAAM,AACN,EAAM,AACN,GAAO,AACP,GAAO,AACP,KAAS,AACT,IAAe,AACf,EAAM,AAEN,MAAU,AACV,EAAM,AAEN,SAAyB,AACzB,OAAW,AACX,MAAU,AACV,MAAc,AACd,SAAiB,AAEjB,aAAmBzB,CAAU,CAAE,C,KAAZA,EAAE,CAAFA,E,KAjBnB,CAAC,CAAG,E,KACJ,CAAC,CAAG,E,KACJ,EAAE,CAAG,E,KACL,EAAE,CAAG,E,KACL,IAAI,CAAG,E,KACP,GAAG,CAAG,CAAC5B,KAAK,EAAE,C,KACd,CAAC,CAAG,E,KAEJ,KAAK,CAAG,E,KACR,CAAC,CAAG,E,KAEJ,QAAQ,CAAc,EAAE,C,KACxB,MAAM,CAAG,E,KACT,KAAK,CAAG,E,KACR,KAAK,CAAG,G,KACR,QAAQ,CAAG,GAIP,IAAK,IAAIuB,EAAI,EAAGA,EAAIQ,EAAU,MAAM,CAAER,IAElC,IAAI,CAAC,QAAQ,CAAC,IAAI,CACd,IAAIsB,EACAd,CAAS,CAACR,EAAE,CAAC,IAAI,CACjBA,EACAQ,CAAS,CAACR,EAAE,CAAC,KAAK,GAM9B,IAAI,CAAC,QAAQ,CAAC,IAAI,CACd,IAAIsB,EACA,UACA,OACA,WAIZ,CAEA,OAAOG,CAA6B,CAAEC,CAAkB,CAAEK,CAAU,CAAEC,CAAY,CAAE,CAEhF,IAAIL,EAAU,GAERd,EAAIpC,KAAK,GAAG,CAAC,EAAGiD,AAAsB,IAAtBA,EAAS,UAAU,CAEzC,KAAI,CAAC,EAAE,EAAK,KAAI,CAAC,CAAC,CAAG,IAAI,CAAC,EAAC,EAAKb,EAChC,IAAI,CAAC,EAAE,EAAK,KAAI,CAAC,CAAC,CAAG,IAAI,CAAC,EAAC,EAAKA,EAChC,IAAI,CAAC,IAAI,EAAK,IAAK,IAAI,CAAC,IAAG,EAAKA,EAChC,IAAI,CAAC,GAAG,EAAK,KAAI,CAAC,CAAC,CAAG,IAAI,CAAC,GAAE,EAAKA,EAClC,IAAI,CAAC,KAAK,CAAGpC,KAAK,GAAG,CAAC,EAAG,IAAI,CAAC,KAAK,CAAI,KAAI,CAAC,CAAC,CAAG,IAAI,CAAC,KAAI,EAAKoC,EAAI,GAElEY,EAAI,IAAI,GACRA,EAAI,SAAS,CAAC,IAAI,CAAC,EAAE,CAAE,IAAI,CAAC,EAAE,EAE9BA,EAAI,WAAW,CAAG,IAAI,CAAC,KAAK,CAE5B,IAAMQ,EAAQ,AAAY,GAAZ,IAAI,CAAC,IAAI,CACjBC,EAAQ,CAACD,EAET,CACF9D,KAAAA,CAAI,CACJqD,MAAAA,CAAK,CACR,CAAGhB,CAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAEpB2B,EAAKX,EAAM,SAAS,CAAC,EAE3BC,CAAAA,EAAI,SAAS,CAAGQ,EAChBR,EAAI,SAAS,CAAG,IAAI,CAAC,QAAQ,CAAGhB,EAAS0B,EAAI,IAAOX,EACpDC,EAAI,WAAW,CAAGhB,EAAS0B,EAAI,IAE/B,IAAMP,EAAO,IAAIC,OAEjBD,EAAK,SAAS,CAACM,EAAOA,EAAO,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,IAAI,CAAE,GAEnDT,EAAI,MAAM,CAAC,IAAI,CAAC,GAAG,EAEnBA,EAAI,IAAI,CAACG,GAELI,EAEIP,EAAI,aAAa,CACjBG,EACAF,EAAS,OAAO,CAChBA,EAAS,OAAO,IAGhBA,EAAS,UAAU,CAAC,WAEhBA,EAAS,KAAK,GACd,IAAI,CAAC,KAAK,CAAG,GACbC,EAAU,KAMlB,IAAI,CAAC,KAAK,CAAG,GAGjBF,EAAI,IAAI,CAACG,GAET,IAAMQ,EAAQL,EAAK,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAQpC,OANAK,GAASX,EAAI,SAAS,CAACW,EAAOF,EAAOA,EAAO,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,IAAI,EAEhET,EAAI,MAAM,CAACG,GAEXH,EAAI,OAAO,GAEJE,CAEX,CAEJ,CAEA,MAAMU,E,IAEF,EAAM,AACN,EAAM,AACN,GAAO,AACP,GAAO,AACP,KAAS,AACT,IAAe,AAEf,OAAsB,AACtB,OAAW,AACX,MAAc,AAEd,aAAmBC,CAAS,CAAE,CAE1B,IAAK,IAAMjC,K,KAFIiC,IAAI,CAAJA,E,KAXnB,CAAC,CAAG,E,KACJ,CAAC,CAAG,E,KACJ,EAAE,CAAG,E,KACL,EAAE,CAAG,E,KACL,IAAI,CAAG,E,KACP,GAAG,CAAG,CAAC7D,KAAK,EAAE,C,KAEd,MAAM,CAAa,EAAE,C,KACrB,MAAM,CAAG,E,KACT,KAAK,CAAG,GAIa6D,EAAK,KAAK,EAEvB,IAAI,CAAC,MAAM,CAAC,IAAI,CACZ,IAAIR,EACAzB,GAMhB,CAEA,OAAOoB,CAA6B,CAAEC,CAAkB,CAAEK,CAAU,CAAE,CAElE,IAAMlB,EAAIpC,KAAK,GAAG,CAAC,EAAGiD,AAAsB,IAAtBA,EAAS,UAAU,CAEzC,KAAI,CAAC,EAAE,EAAK,KAAI,CAAC,CAAC,CAAG,IAAI,CAAC,EAAC,EAAKb,EAChC,IAAI,CAAC,EAAE,EAAK,KAAI,CAAC,CAAC,CAAG,IAAI,CAAC,EAAC,EAAKA,EAChC,IAAI,CAAC,IAAI,EAAK,IAAK,IAAI,CAAC,IAAG,EAAKA,EAChC,IAAI,CAAC,GAAG,EAAK,GAAI,IAAI,CAAC,GAAE,EAAKA,EAE7BY,EAAI,IAAI,GAERA,EAAI,SAAS,CAAC,IAAI,CAAC,EAAE,CAAE,IAAI,CAAC,EAAE,EAC9BA,EAAI,MAAM,CAAC,IAAI,CAAC,GAAG,EAEnB,IAAMQ,EAAQ,AAAY,GAAZ,IAAI,CAAC,IAAI,CACjBC,EAAQ,CAACD,EAET,CACF9D,KAAAA,CAAI,CACJqD,MAAAA,CAAK,CACR,CAAGhB,CAAS,CAAC,IAAI,CAAC,MAAM,CAAC,AAE1BiB,CAAAA,EAAI,SAAS,CAAGQ,EAChBR,EAAI,SAAS,CAAGD,EAChBC,EAAI,WAAW,CAAGhB,EAASe,EAAM,SAAS,CAAC,GAAI,IAE/C,IAAMI,EAAO,IAAIC,OAEjBD,EAAK,SAAS,CAACM,EAAOA,EAAO,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,IAAI,CAAE,IAEnDT,EAAI,IAAI,CAACG,GAELH,EAAI,aAAa,CACjBG,EACAF,EAAS,OAAO,CAChBA,EAAS,OAAO,IAGhBA,EAAS,UAAU,CAAC,WAEhBA,EAAS,KAAK,EACd,KAAI,CAAC,KAAK,CAAG,CAAC,IAAI,CAAC,KAAK,AAAD,GAK/BD,EAAI,IAAI,CAACG,GAET,IAAMW,EAAMR,EAAK,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAErCQ,CAAAA,GAAOd,EAAI,SAAS,CAACc,EAAKL,EAAOA,EAAO,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,IAAI,EAE5DT,EAAI,MAAM,CAACG,GAEXH,EAAI,OAAO,EAEf,CAEJ,CAEA,MAAMe,E,UAEF,KAAkB,AAClB,GAAQ,AACR,KAAU,AACV,MAAc,AACd,aACWrE,CAAY,CACZoD,CAAa,CACpBkB,CAAkB,CAClBtB,CAAW,CACXuB,CAGC,CACH,CAYE,IAAK,IAAMnC,K,KApBJpC,IAAI,CAAJA,E,KACAoD,KAAK,CAALA,E,KANX,IAAI,CAAW,EAAE,C,KACjB,EAAE,CAAG,G,KACL,IAAI,CAAG,GAaH,IAAI,CAAC,KAAK,CAAGL,EAAQC,GAEjBuB,GAAQ,QACR,KAAI,CAAC,EAAE,CAAG,CAAC,EAAEvE,EAAK,GAAG,CAAC,AAAD,EAGrBuE,GAAQ,UACR,KAAI,CAAC,IAAI,CAAG,CAAC,EAAEvE,EAAK,KAAK,CAAC,AAAD,EAGXsE,GAAU,CAExB,IAAMH,EAAOhC,EAAWC,GAExB,GAAI+B,AAASK,SAATL,EACA,MAAM,AAAIM,MAAM,CAAC,EAAErC,EAAI,gBAAgB,CAAC,EAG5C,IAAI,CAAC,IAAI,CAAC,IAAI,CAEV,IAAI8B,EACAQ,gBAAgBP,IAK5B,CAEJ,CAEA,MAAO,CAEH,IAAMQ,EAAkB,EAAE,CAE1B,IAAK,IAAMP,KAAO,IAAI,CAAC,IAAI,CAEvBO,EAAQ,IAAI,CACR,IAAIT,EACAQ,gBAAgBN,EAAI,IAAI,IAMpC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GACjB,IAAI,CAAC,IAAI,CAAGO,CAEhB,CAEJ,CAEO,IAAKC,EAAIA,SAAJA,CAAI,E,sNAAJA,C,MA4BL,IAAMC,EAAQC,MAAa,EAElCD,CAAAA,CAAK,CAAC,EAAY,CAAG,IAAIR,EACrB,WAEA,CACI,OACA,UACA,MACA,WACA,aACA,cACA,WACA,SACA,YACA,SACA,aACA,YACH,CACD,oBAEJQ,CAAK,CAAC,EAAY,CAAG,IAAIR,EACrB,WAEA,CACI,SACA,SACA,mBACA,gBACA,WACA,kBACA,YACA,eACH,CACD,sBAEJQ,CAAK,CAAC,EAAW,CAAG,IAAIR,EACpB,UAEA,CACI,SACA,QACA,WACA,OACA,YACA,SACA,QACH,CACD,oBACA,CACI,SAAU,EACd,GAEJQ,CAAK,CAAC,EAAY,CAAG,IAAIR,EACrB,WAEA,CACI,iBACA,UACA,SACA,gBACA,OACA,UACA,OACA,gBACA,gBACH,CACD,oBAEJQ,CAAK,CAAC,EAAS,CAAG,IAAIR,EAClB,QAEA,CACI,aACA,aACA,gBACA,WACA,UACH,CACD,oBAEJQ,CAAK,CAAC,EAAc,CAAG,IAAIR,EACvB,aAEA,CACI,WACA,aACA,cACA,YACA,UAEA,gBACA,kBACA,mBACA,iBACA,eAEA,eACA,iBACA,kBACA,mBACA,cAEA,OACH,CACD,oBAEJQ,CAAK,CAAC,EAAY,CAAG,IAAIR,EACrB,WAEA,CACI,SACA,MACA,QACA,OACH,CACD,oBACA,CACI,OAAQ,EACZ,GAEJQ,CAAK,CAAC,EAAa,CAAG,IAAIR,EACtB,YAEA,CACI,eACA,aACA,eACA,aACA,SACH,CACD,sBAEJQ,CAAK,CAAC,EAAa,CAAG,IAAIR,EACtB,YAEA,CACI,eACA,iBACA,eACA,OACH,CACD,oBCvgBG,OAAMU,EAET,GAAK,GAAI,AACT,IAAK,GAAI,AAET,KAAoC,IAAInF,GAAI,AAC5C,OAAsC,IAAIA,GAAI,AAC9C,MAAqC,IAAIA,GAAI,AAE7C,OAAQiF,CAAK,CAAC/C,OAAO,QAAQ,CAACkD,aAAa,OAAO,CAAC,UAAYJ,EAAAA,KAAAA,CAAAA,QAAmB,KAAO,EAAE,AAAC,AAE5F,cAAc,CAAC,CAEP,GAAG1C,CAAmB,CAAE+C,CAAW,CAAEC,CAAS,CAAEC,CAAS,CAAE1E,CAAwC,CAAE,CAIzG,OAFA2E,QAAQ,GAAG,CAAC,UAAW,MAAOlD,EAAI,OAAQ+C,GAEnC,IAAII,QACP,CAACC,EAASC,KAEN,IAAMC,EAAQ,IAAIC,MAAMP,EAAGC,EAE3BK,CAAAA,EAAM,GAAG,CAAGP,EAEZO,EAAM,MAAM,CAAG,KAEXJ,QAAQ,GAAG,CAACI,EAAM,KAAK,CAAEA,EAAM,MAAM,EAErC,IAAME,EAAS,IAAIC,gBACfT,EACAC,GAEE7B,EAAMoC,EAAO,UAAU,CAAC,MAE9BpC,GAAK,UAAUkC,EAAO,EAAG,EAAGE,EAAO,KAAK,CAAEA,EAAO,MAAM,EAEvDjF,EAAE,GAAG,CAACyB,EAAIwD,GAEVJ,EAAQ,GAEZ,EAEAE,EAAM,OAAO,CAAG,AAACI,IAEbR,QAAQ,KAAK,CAAC,cAAelD,EAAI0D,GAEjCL,EAAO,GAEX,CAGJ,EAGR,CAEA,MAAM,MAAO,CAET,IAAM/E,EAAIqF,YAAY,GAAG,GAIzB,IAAK,GAAM,CAAC3D,EAAI+C,EAAI,GAFpBG,QAAQ,GAAG,CAAC,SAEYrD,GAEpB,MAAM,IAAI,CAAC,EAAE,CAACG,EAAI+C,EAAK,IAAI,CAAC,EAAE,CAAE,IAAI,CAAC,EAAE,CAAE,IAAI,CAAC,IAAI,EAkBtD,OAFAG,QAAQ,GAAG,CAAC,QAAS,WAAanE,AAAAA,CAAI,KAF5B4E,CAAAA,YAAY,GAAG,GAAKrF,CAAAA,CAEW,EAAG,OAAO,CAAC,GAAI,OAEjD,EAEX,CAEJ,CC1FO,MAAMsF,EAET,KAAO1E,AAAwB,aAAxBA,SAAS,UAAU,AAAgB,AAE1C,cAAc,CAEV,IAAI,CAAC,IAAI,EAAI,IAAI,CAAC,aAAa,EAEnC,CAEA,eAAgB,CAEZA,SAAS,aAAa,CAAC,YAAY,QAEvC,CAIJ,CCXA,IAAM2E,EAAgB,KAElB,IAAML,EAAmCtE,SAAS,aAAa,CAAC,WAEhE,GAAIsE,AAAW,OAAXA,EAAiB,CAEjB,IAAMM,EAAa5E,SAAS,aAAa,CAAC,UAI1C,OAHA4E,EAAW,EAAE,CAAG,SAChB5E,SAAS,IAAI,CAAC,OAAO,CAAC4E,GAEfA,CAEX,CAEA,OAAON,CAEX,CAEO,OAAMO,EAET,OAASF,GAAgB,AACzB,KAAM,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAkC,AAE/D,QAAS,IAAIJ,gBAAgB,EAAG,EAAG,AACnC,QAAS,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAA2C,AAE3E,OAAQ,CAAE,AAEV,IAjCkB,IAiCN,AACZ,IAjCkB,IAiCN,AAEZ,YAAa,CAAE,AACf,WAAY,CAAE,AACd,WAAY,CAAE,AAEd,KAAM,aAAc,AACpB,OAAkB,EAAE,AAAC,AAErB,SAAU,CAAE,AACZ,SAAU,CAAE,AACZ,OAAQ,EAAM,AACd,OAAQ,EAAM,AAEd,GAAe,EAAE,AAAC,AAElB,MAAOE,YAAY,GAAG,EAAG,AAEzB,MAAO,CAAE,AACT,QAAS,CAAE,AAEX,cAAc,CAKV,IAAK,IAAMK,KAHX,IAAI,CAAC,MAAM,CAAC,aAAa,CAAGC,AAAAA,GAASA,EAAM,cAAc,GACzD,IAAI,CAAC,MAAM,GAEStB,GAEhB,IAAI,CAAC,CAAC,CAAC,IAAI,CACP,IAAI1B,EACA+C,EAAM,IAAI,CACVA,EAAM,KAAK,CACXA,EAAM,KAAK,EAM3B,CAEA,KAAM,CAEF,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,KAAK,EACrC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,KAAK,CAE5C,CAEA,QAAS,CAEL,IAAI,CAAC,MAAM,CAAC,KAAK,CAAGE,WAAaC,iBACjC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAGC,YAAcD,iBAEnC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CACrC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAEvC,IAAM5F,EAAIH,KAAK,GAAG,CACd,IAAI,CAAC,MAAM,CAAC,KAAK,CA1FP,KA2FV,IAAI,CAAC,MAAM,CAAC,MAAM,CA1FR,KA6Fd,KAAI,CAAC,KAAK,CAAGG,EAEb,IAAI,CAAC,EAAE,CAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAGA,EAC9B,IAAI,CAAC,EAAE,CAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAGA,CAEnC,CAEA,WAAWgC,CAAS,CAAE8D,CAAS,CAAE,CAE7B,IAAI,CAAC,OAAO,CAAGF,iBAAmB5D,EAClC,IAAI,CAAC,OAAO,CAAG8D,EAAIF,gBAEvB,CAEA,WAAWG,CAAc,CAAE,CAEnB,IAAI,CAAC,KAAK,GAEd,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAGA,EAC3B,IAAI,CAAC,KAAK,CAAG,GAEjB,CAEA,mBAAmBC,CAAqB,CAAEC,CAAU,CAAEC,CAAU,CAAE,CAE9D,IAAK,IAAIlE,EAAIiE,EAAKD,EAAK,KAAK,CAAGA,EAAK,KAAK,CAAEhE,EAAI,IAAI,CAAC,EAAE,CAAEA,GAAKgE,EAAK,KAAK,CAEnE,IAAK,IAAIF,EAAII,EAAKF,EAAK,MAAM,CAAGA,EAAK,MAAM,CAAEF,EAAI,IAAI,CAAC,EAAE,CAAEA,GAAKE,EAAK,MAAM,CAEtE,IAAI,CAAC,GAAG,CAAC,SAAS,CAACA,EAAMhE,EAAG8D,EAMxC,CAEA,KACIK,CAAY,CAEZhD,CAAU,CACZ,CAEE,IAAI,CAAC,UAAU,CAAGtD,KAAK,GAAG,CAAC,EAAGsG,EAAO,IAAI,CAAC,IAAI,EAC9C,IAAI,CAAC,SAAS,CAAG,IACjB,IAAI,CAAC,SAAS,CAAG,EACjB,IAAI,CAAC,IAAI,CAAGA,EAEZ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAC/B,IAAI,CAAC,GAAG,CAAG,IAAQ,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAACpG,EAAGS,KAEjC,IAAI,CAAC,SAAS,CAAGA,GACjB,KAAI,CAAC,SAAS,CAAGA,CAAAA,EAGjB,IAAI,CAAC,SAAS,CAAGA,GACjB,KAAI,CAAC,SAAS,CAAGA,CAAAA,EAGdT,EAAIS,IAEV,IAAI,CAAC,KAAK,CAAC,MAAK,EAEjB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAG,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,GAE7C,GAAM,CACFyE,OAAAA,CAAM,CACNpC,IAAAA,CAAG,CACN,CAAG,IAAI,CAERA,EAAI,SAAS,CAAC,EAAG,EAAGoC,EAAO,KAAK,CAAEA,EAAO,MAAM,EAC/C,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,EAAG,EAAGA,EAAO,KAAK,CAAEA,EAAO,MAAM,EAEvD,IAAI,CAAC,GAAG,GAERpC,EAAI,OAAO,CAAG,QACdA,EAAI,QAAQ,CAAG,QAEf,IAAMmD,EAAO7C,EAAK,IAAI,CAAC,GAAG,CACtBA,EAAK,KAAK,CAAC,IAAI,EAGnB,GAAI6C,EAAM,CAENnD,EAAI,WAAW,CAAG,EAElB,IAAMuD,EAAID,AAAO,GAAPA,EAEJF,EAAK,AAAK,EAAL,CAACG,EACNF,EAAKrG,AAAsB,IAAtBA,KAAK,GAAG,CAACuG,AAAI,KAAJA,GAAmB,EAEjCC,EAAKlD,EAAK,IAAI,CAAC,GAAG,CAACA,EAAK,KAAK,CAAC,EAAE,CAElCkD,CAAAA,GACA,IAAI,CAAC,kBAAkB,CAACA,EAAIJ,EAAIC,GAGpC,IAAI,CAAC,kBAAkB,CAACF,EAAMC,EAAIC,GAElC,IAAMrF,EAAOsC,EAAK,IAAI,CAAC,GAAG,CAACA,EAAK,KAAK,CAAC,IAAI,EAE1C,GAAItC,EAAM,CACNgC,EAAI,WAAW,CAAG,GAElB,IAAMuD,EAAID,AAAO,IAAPA,EAEV,IAAI,CAAC,kBAAkB,CAACtF,EAAM,CAACuF,EAAGA,GAElCvD,EAAI,WAAW,CAAG,CACtB,CAEJ,CAEA,IAAK,IAAIzB,EAAI,EAAGA,EAAI,IAAI,CAAC,CAAC,CAAC,MAAM,CAAEA,IAAK,CAEpC,IAAMkF,EAAM,IAAI,CAAC,CAAC,CAAClF,EAAE,AAErBkF,CAAAA,EAAI,CAAC,CAAG,GACRA,EAAI,CAAC,CAAG,GAAKlF,AAAI,GAAJA,EACbkF,EAAI,CAAC,CAAG,EAEQA,EAAI,MAAM,CAACzD,EAAK,IAAI,GAErBM,EAAK,KAAK,CAAC,KAAK,GAAKmD,EAAI,KAAK,GAEzCnD,EAAK,KAAK,CAAC,IAAI,GACfA,EAAK,KAAK,CAAGiB,CAAK,CAACkC,EAAI,KAAK,CAAC,CAIrC,CA+EAzD,EAAI,SAAS,CAAG,OAChBA,EAAI,WAAW,CAAG,OAClBA,EAAI,WAAW,CAAG,EAElB,IAAMrC,EAAI,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,oBAAoB,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,CAEjJqC,EAAI,SAAS,CACT,IAAI,CAAC,EAAE,CAAG,GACV,IAAI,CAAC,EAAE,CAAG,GAEdA,EAAI,IAAI,CAAG,qBACXA,EAAI,YAAY,CAAG,SACnBA,EAAI,SAAS,CAAG,QAChBA,EAAI,SAAS,CAAG,KAChBA,EAAI,UAAU,CAACrC,EAAG,EAAG,GACrBqC,EAAI,QAAQ,CAACrC,EAAG,EAAG,GAEnBqC,EAAI,YAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAChC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAExC,IAAI,CAAC,UAAU,CAAC,WAEhB,IAAI,CAAC,KAAK,CAAG,GACb,IAAI,CAAC,KAAK,CAAG,EAEjB,CAEJ,CCpRA0D,AAjDa,WAET,IAAMpD,EAAO,IAAImB,CAEjB,OAAMnB,EAAK,IAAI,GAEflC,IAEA,IAAM6B,EAAW,IAAI0C,EAGrBgB,AAFgB,KAAInB,CAAM,EAElB,aAAa,GAErBoB,iBAAiB,SAAU,KAEvB3D,EAAS,MAAM,EAEnB,GAEA2D,iBAAiB,YAAa,AAACf,IAE3B5C,EAAS,UAAU,CACf4C,EAAM,OAAO,CACbA,EAAM,OAAO,CAGrB,GAEAe,iBAAiB,QAAS,KAEtB3D,EAAS,KAAK,CAAG,EAErB,GAEA,IAAM4D,EAAc,AAACP,IAEjBrD,EAAS,IAAI,CACTqD,EACAhD,GAGJwD,sBAAsBD,EAE1B,EAEAC,sBAAsBD,EAE1B,I"}